{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const galleryTemplate = imgInfo => {\n  return `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${imgInfo.webformatURL}\"\n          data-source=\"${imgInfo.largeImageURL}\"\n          alt=\"${imgInfo.tags}\"\n        />\n      </a>\n      <div class=\"wrapper\">\n        <ul class=\"img-content-wrapper\">\n          <li class=\"text-info\">\n            Likes<span class=\"number\">${imgInfo.likes}</span>\n          </li>\n          <li class=\"text-info\">\n            Views<span class=\"number\">${imgInfo.views}</span>\n          </li>\n          <li class=\"text-info\">\n            Comments<span class=\"number\">${imgInfo.comments}</span>\n          </li>\n          <li class=\"text-info\">\n            Downloads<span class=\"number\">${imgInfo.downloads}</span>\n          </li>\n        </ul>\n      </div>\n    </li>\n    `;\n};\n","const BASE_URL = 'https://pixabay.com/api';\n\nexport const fetchPhotos = searchedQuery => {\n  const urlParams = new URLSearchParams({\n    key: '45714704-c3295be315f324c1eb86e3dfd',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}/?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nimport { galleryTemplate } from './js/render-functions';\nimport { fetchPhotos } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.js-loader');\n\nconst simpleLightbox = new SimpleLightbox('.js-gallery a', {\n  overlayOpacity: 0.9,\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 350,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const userValue = searchFormEl.elements.user_query.value;\n\n  if (!userValue) {\n    iziToast.warning({\n      message: 'Input field must not be empty.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loader.classList.remove('is-hidden');\n\n  fetchPhotos(userValue)\n    .then(data => {\n      galleryEl.innerHTML = '';\n\n      if (!data.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryEl.innerHTML = '';\n\n        return;\n      }\n\n      const galleryCardTemplate = data.hits\n        .map(image => galleryTemplate(image))\n        .join('');\n\n      galleryEl.innerHTML = galleryCardTemplate;\n\n      simpleLightbox.refresh();\n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["galleryTemplate","imgInfo","BASE_URL","fetchPhotos","searchedQuery","urlParams","response","searchFormEl","galleryEl","loader","simpleLightbox","SimpleLightbox","onSearchFormSubmit","event","userValue","iziToast","data","galleryCardTemplate","image","err"],"mappings":"6vBAAO,MAAMA,EAAkBC,GACtB;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA;AAAA;AAAA,iBAG1CA,EAAQ,YAAY;AAAA,yBACZA,EAAQ,aAAa;AAAA,iBAC7BA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMWA,EAAQ,KAAK;AAAA;AAAA;AAAA,wCAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,2CAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,4CAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MCvBvDC,EAAW,0BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAiB,IAAIC,EAAe,gBAAiB,CACzD,eAAgB,GAChB,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAYP,EAAa,SAAS,WAAW,MAEnD,GAAI,CAACO,EAAW,CACdC,EAAS,QAAQ,CACf,QAAS,iCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,EAAU,UAAY,GACtBC,EAAO,UAAU,OAAO,WAAW,EAEnCN,EAAYW,CAAS,EAClB,KAAKE,GAAQ,CAGZ,GAFAR,EAAU,UAAY,GAElB,CAACQ,EAAK,KAAK,OAAQ,CACrBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDP,EAAU,UAAY,GAEtB,MACD,CAED,MAAMS,EAAsBD,EAAK,KAC9B,IAAIE,GAASlB,EAAgBkB,CAAK,CAAC,EACnC,KAAK,EAAE,EAEVV,EAAU,UAAYS,EAEtBP,EAAe,QAAO,EACtBH,EAAa,MAAK,CACxB,CAAK,EACA,MAAMY,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbV,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,EAEAF,EAAa,iBAAiB,SAAUK,CAAkB"}