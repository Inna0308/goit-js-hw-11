{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.js-loader');\n\nconst galleryTemplate = imgInfo => {\n  return `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${imgInfo.webformatURL}\"\n          data-source=\"${imgInfo.largeImageURL}\"\n          alt=\"${imgInfo.tags}\"\n        />\n      </a>\n      <div class=\"wrapper\">\n        <ul class=\"img-content-wrapper\">\n          <li class=\"text-info\">\n            Likes<span class=\"number\">${imgInfo.likes}</span>\n          </li>\n          <li class=\"text-info\">\n            Views<span class=\"number\">${imgInfo.views}</span>\n          </li>\n          <li class=\"text-info\">\n            Comments<span class=\"number\">${imgInfo.comments}</span>\n          </li>\n          <li class=\"text-info\">\n            Downloads<span class=\"number\">${imgInfo.downloads}</span>\n          </li>\n        </ul>\n      </div>\n    </li>\n    `;\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const userValue = searchFormEl.elements.user_query.value;\n\n  if (!userValue) {\n    iziToast.warning({\n      message: 'Input field must not be empty.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.classList.remove('is-hidden');\n\n  fetch(\n    `https://pixabay.com/api/?key=45714704-c3295be315f324c1eb86e3dfd&q=${userValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryEl.innerHTML = '';\n\n        return;\n      }\n\n      const galleryCardTemplate = data.hits\n        .map(image => galleryTemplate(image))\n        .join('');\n\n      galleryEl.innerHTML = galleryCardTemplate;\n\n      new SimpleLightbox('.js-gallery a', {\n        overlayOpacity: 0.9,\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 350,\n      });\n\n      simpleLightbox.refresh();\n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["searchFormEl","galleryEl","loader","galleryTemplate","imgInfo","onSearchFormSubmit","event","userValue","iziToast","response","data","galleryCardTemplate","image","SimpleLightbox","err"],"mappings":"6vBAGA,MAAMA,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAkBC,GACf;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA;AAAA;AAAA,iBAG1CA,EAAQ,YAAY;AAAA,yBACZA,EAAQ,aAAa;AAAA,iBAC7BA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMWA,EAAQ,KAAK;AAAA;AAAA;AAAA,wCAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,2CAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,4CAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAQvDC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAYP,EAAa,SAAS,WAAW,MAEnD,GAAI,CAACO,EAAW,CACdC,EAAS,QAAQ,CACf,QAAS,iCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,EAAO,UAAU,OAAO,WAAW,EAEnC,MACE,qEAAqEK,CAAS,0DAC/E,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDP,EAAU,UAAY,GAEtB,MACD,CAED,MAAMU,EAAsBD,EAAK,KAC9B,IAAIE,GAAST,EAAgBS,CAAK,CAAC,EACnC,KAAK,EAAE,EAEVX,EAAU,UAAYU,EAEtB,IAAIE,EAAe,gBAAiB,CAClC,eAAgB,GAChB,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EAED,eAAe,QAAO,EACtBb,EAAa,MAAK,CACxB,CAAK,EACA,MAAMc,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbZ,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,EAEAF,EAAa,iBAAiB,SAAUK,CAAkB"}